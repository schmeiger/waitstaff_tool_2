var getPerc=function(t,e){return t*e/100},getTotal=function(t,e){return t+e};angular.module("waitstaff",["ngRoute","ngAnimate"]).config(["$routeProvider",function(t){t.when("/",{templateUrl:"home.html",controller:"homeCtrl"}).when("/meal",{templateUrl:"meal.html",controller:"mealCtrl"}).when("/earnings",{templateUrl:"earnings.html",controller:"earningsCtrl"})}]).run(function(t,e,a){t.$on("$routeChangeError",function(){e.path("/error")}),t.$on("$routeChangeStart",function(){t.isLoading=!0}),t.$on("$routeChangeSuccess",function(){a(function(){t.isLoading=!1},1e3)}),t.tipTotal=0,t.mealCount=0,t.avrTip=0,t.subtotal=0,t.tip=0,t.customerTotal=0}).controller("homeCtrl",function(t,e){}).controller("mealCtrl",function(t,e){e.form={basePrice:"",taxRate:"",tipPercentage:""},e.submitMealDetails=function(){e.mealDetails.$valid&&(t.subtotal=getPerc(e.mealDetails.taxRate.$modelValue,e.mealDetails.basePrice.$modelValue)+e.mealDetails.basePrice.$modelValue,t.tip=getPerc(e.mealDetails.tipPercentage.$modelValue,e.mealDetails.basePrice.$modelValue),t.customerTotal=getTotal(t.subtotal,t.tip),t.tipTotal=t.tipTotal+t.tip,t.mealCount=t.mealCount+1,t.avrTip=t.tipTotal/t.mealCount,e.form={},e.mealDetails.$setPristine(),e.mealDetails.$setUntouched())}}).controller("earningsCtrl",function(t,e){e.resetData=function(){console.log("asdf"),t.tipTotal=0,t.mealCount=0,t.avrTip=0,t.subtotal=0,t.tip=0,t.customerTotal=0}});